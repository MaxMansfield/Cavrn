<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Cavrn AVR8 Library: UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cavrn AVR8 Library
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">Sedimentary Olm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">UART </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h4>A library implementation for sending/recieving bytes or strings via UART pins.</h4>
<h3>Configuration</h3>
<p><a class="el" href="structUart.html" title="The way to control any Uart functions is through this struct. ">Uart</a> is able to take advantage of all modes given by an MCU. Just provide it during initialization. <em>note: The AVR ATmega103 does not have available status control registers to determine half/full duplex so no mode is needed at initialization.</em></p>
<div class="fragment"><div class="line"><a class="code" href="structUart.html">Uart</a>.init(ASYNC_MODE)</div>
<div class="line">or</div>
<div class="line"><a class="code" href="structUart.html">Uart</a>.init(SYNC_MODE)</div>
<div class="line">or</div>
<div class="line"><a class="code" href="structUart.html">Uart</a>.init(MSPI_MODE)</div>
</div><!-- fragment --><p> <a class="el" href="structUart.html" title="The way to control any Uart functions is through this struct. ">Uart</a> relies on a BAUD definition at compile time because many preprocessor directives rely on it; one benefit of doing it this way is that no large 32bit integers have to be used (ex. Baud of 115200) another is the assurance that your baud rate is what you would expect throughout the program and finally no compute time is wasted on arithmatic to calculate baud rates or <code>F_OSC</code> clock rates or even to separate high and low values for the USART Baud Rate Register because the preprocessor computes it.</p>
<p>To Define the Baud rate add -DBAUD=9600 or any other rate to the compilation. For most situations, simply fill in the provided <code>settings.inc</code> file. During the extent of your program you can change the BAUD by undefining BAUD and redefining it before reincluding the <code>&lt;util/setbaud.h&gt;</code> file. This sounds janky but the setbaud.h file is simply a collection of preprocessor directives which will only be present at compile time and infact avr-libc recommends this way.</p>
<p>Take this example to see how easy to use the <a class="el" href="structUart.html" title="The way to control any Uart functions is through this struct. ">Uart</a> library is (and eventually all of <a class="el" href="structCavrn.html" title="The main entry point for global Cavrn functionality. Access cavrn_t Cavrn&#39;s functionality by addressi...">Cavrn</a>). </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Cavrn/uart.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="structUart.html">Uart</a>.init(ASYNC_MODE);</div>
<div class="line">  <a class="code" href="structUart.html">Uart</a>.txString(<span class="stringliteral">&quot;Device Initialized\n\r&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span>(1){</div>
<div class="line">    uint8_t recieved = <a class="code" href="structUart.html">Uart</a>.rxByte();</div>
<div class="line">    <span class="keywordtype">char</span> text[128];</div>
<div class="line">    sprintf(text,<span class="stringliteral">&quot;Devices Recieved Data: %d\n\rAnalyzing...&quot;</span>,recieved);</div>
<div class="line">    <a class="code" href="structUart.html">Uart</a>.txString(text);</div>
<div class="line">   }</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 19 2015 20:00:21 for Cavrn AVR8 Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
