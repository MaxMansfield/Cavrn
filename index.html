<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Cavrn AVR8 Library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cavrn AVR8 Library
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">Sedimentary Olm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Cavrn AVR8 Library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="http://i.imgur.com/EJCUbXa.png"  alt="Cavrn"/>
</div>
 <h1>An easy to use and extremely flexible library for AVR Microcontrollers, written in pure C.</h1>
<h5>Version: 0.1.0 (<em>Sedimentary Olm</em>)</h5>
<h5>Major Version: 0 (Sedimentary)</h5>
<h5>Minor Version: 1.0 (Olm)</h5>
<h5>Working Modules: <a class="el" href="structUart.html" title="The way to control any Uart functions is through this struct. ">Uart</a></h5>
<h5>Modules in Work: SPI Nrf24</h5>
<h5>Future Modules: I2C W5100 SSD1306</h5>
<h5>Supported MCUs: ATmega328p, ATmega103</h5>
<h5>Coming Soon: ATtiny85</h5>
<p><a class="el" href="structCavrn.html" title="The main entry point for global Cavrn functionality. Access cavrn_t Cavrn&#39;s functionality by addressi...">Cavrn</a> aims to be a fully featured AVR library that is optimized for ease of use while still retaining flexibility per device and fits in as a pure C Arduino-esque library.</p>
<p>Each available function (<a class="el" href="structUart.html" title="The way to control any Uart functions is through this struct. ">Uart</a>,Spi,Nrf24) which I'll be calling a module uses <code>static struct</code>s full of function pointers to represent each module an its capabilities. A module is then called by the module name and then the function, similar to an object.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;cavrn/uart.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">/* initialize UART in full duplex */</span></div>
<div class="line">    <a class="code" href="structUart.html">Uart</a>.init(ASYNC_MODE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* only send/recieve  printable char when using Uart.txString and Uart.rxString() */</span></div>
<div class="line">    <a class="code" href="structUart.html">Uart</a>.printableCharsOnly = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* global interrupts Off */</span></div>
<div class="line">    <a class="code" href="structCavrn.html">Cavrn</a>.setInterrupts(<a class="code" href="cavrn_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* enables global interrupts and enables Uart TX interrupts */</span></div>
<div class="line">    <a class="code" href="structUart.html">Uart</a>.setTxInterrupt(<a class="code" href="cavrn_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* byte is defined as part of Cavrn check the docs for more. */</span></div>
<div class="line">    <a class="code" href="cavrn_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> count = 0;</div>
<div class="line">    <span class="keywordflow">while</span>(1){</div>
<div class="line">       <span class="keywordtype">char</span> text[32];</div>
<div class="line">       sprinf(text,<span class="stringliteral">&quot;Run number %d&quot;</span>,count++);</div>
<div class="line">       <a class="code" href="structUart.html">Uart</a>.txString(text);</div>
<div class="line">       <a class="code" href="structUart.html">Uart</a>.txByte(<span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p><a class="el" href="structCavrn.html" title="The main entry point for global Cavrn functionality. Access cavrn_t Cavrn&#39;s functionality by addressi...">Cavrn</a> library is built on avr-libc, compiled with avr-gcc and meant to be easy to use while still retaining flexibility per mmcu for professional situations.</p>
<h1>Path of Knowledge</h1>
<p>Here is a listing of the documentation you may find helpful. You can either check it out now or read the rest of this page, either way...I'll be here.</p>
<table class="doxtable">
<tr>
<th>Content </th><th align="left">Link  </th></tr>
<tr>
<td>__I. Starting__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/modules.html">Cavrn Docs - Getting Started</a> </td></tr>
<tr>
<td>__II. Building__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/modules.html">Cavrn Docs - Build Cavrn</a> </td></tr>
<tr>
<td>__III. Installing__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/modules.html">Cavrn Docs - Install Cavrn</a> </td></tr>
<tr>
<td>__IV. Examples__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/examples.html">Cavrn Docs - Examples</a> </td></tr>
<tr>
<td>__V. Modules__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/modules.html">Cavrn Docs - Modules</a> </td></tr>
<tr>
<td>__VI. Versions__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/versions.html">Cavrn Docs - Versioning</a> </td></tr>
<tr>
<td>__VII. References__ </td><td align="left"><a href="http://maxmansfield.github.io/Cavrn/modules.html">Cavrn Docs - Inspiration</a> </td></tr>
</table>
<h1>Requirements</h1>
<h6>Operating System:</h6>
<ul>
<li><a href="http://www.linux.com/">Linux</a>: Yes</li>
<li><a href="https://www.apple.com/osx/">OS X</a>: Not Tested</li>
<li><a href="http://windows.microsoft.com/en-us/windows/home">Windows</a>: Not Tested</li>
</ul>
<h6>Device:</h6>
<ul>
<li><a href="http://www.atmel.com/images/Atmel-8271-8-bit-AVR-Microcontroller-ATmega48A-48PA-88A-88PA-168A-168PA-328-328P_datasheet_Complete.pdf">Atmel AVR ATmega328p</a></li>
<li><a href="http://www.atmel.com/Images/doc0945.pdf">Atmel AVR ATmega103</a></li>
</ul>
<h6>Build Tools:</h6>
<ul>
<li><a href="https://gcc.gnu.org/wiki/avr-gcc">avr-gcc build suite</a><ul>
<li><a href="http://ccrma.stanford.edu/planetccrma/man/man1/avr-ld.1.html">avr-ld</a>, avr-sz, etc...</li>
</ul>
</li>
<li><a href="http://www.nongnu.org/avr-libc/">AVR libc</a></li>
<li><a href="http://www.gnu.org/software/make/">make</a></li>
</ul>
<p>To upload you will need a software programmer or/and ICSP of your choice but if you install <code>avrdude</code> you can then run <code>make upload</code> if you have configured you serial port in the <code>settings.inc</code> file...more on that later if you haven't already browsed the documentation.</p>
<p>To view serial data you can install a serial monitor called screen and type <code>make console</code> but for long term use I recommend minicom and to configure your own profiles for it.</p>
<p>At the moment a board with an Atmega328p or Atmega103 is required, but this will change soon. If you have the interest, it would be very simple to add defines for a board that you own. Simply define each pin that will be used in the appropriate header file.</p>
<p>Contact me if you ever need help.</p>
<h1>Quick Start</h1>
<h5>If you don't want to read docs (or even if you did) and you want to try the library really quick the best option is to build the example directory so make sure you have all the requirements and check it out...</h5>
<p>For the time being here's the build process:</p>
<ol type="1">
<li>Download the repo and change <code>settings.inc</code> to fit your needs. (note: you don't need to change any other file).</li>
<li>Run <code>make examples</code></li>
<li>That will build the library and populate the <code>examples/</code> folder.</li>
<li>The built objects and a static library file will be in the newly created <code>build/</code> directory</li>
<li>Change into the <code>examples/</code> directory and choose a module, then choose an example type.</li>
<li>Run <code>make</code> in the example folder you picked</li>
</ol>
<p>You will now have a <code>main.hex</code> file to upload to an AVR and if you have <code>avrdude</code> installed and configured then you can type <code>make upload</code>.</p>
<h1>Using <a class="el" href="structCavrn.html" title="The main entry point for global Cavrn functionality. Access cavrn_t Cavrn&#39;s functionality by addressi...">Cavrn</a></h1>
<p>To use <a class="el" href="structCavrn.html" title="The main entry point for global Cavrn functionality. Access cavrn_t Cavrn&#39;s functionality by addressi...">Cavrn</a> include the source and objects or static library files in you project directory or link to them. At the moment this is not the easiest part of the process by any means but it has only been a few days, give it time and I'll have a killer install chain.</p>
<h4>Let Me Know if you ever have an issue: <a href="#" onclick="location.href='mai'+'lto:'+'max'+'.m'+'.ma'+'ns'+'fie'+'ld'+'@gm'+'ai'+'l.c'+'om'; return false;">max.m<span style="display: none;">.nosp@m.</span>.man<span style="display: none;">.nosp@m.</span>sfiel<span style="display: none;">.nosp@m.</span>d@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a></h4>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 19 2015 20:00:21 for Cavrn AVR8 Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
